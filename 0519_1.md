# 9. 설계의 이해

## 1. 데이터 설계(모델 설계)

![mvp](https://github.com/qskeksq/Basics_for_java_programming/blob/master/pic/MVP.png?raw=true)

- 가장 많은 데이터를 가진 화면을 보고 만들지만, 종합적으로 어떤 값, 데이터가 필요할 것인지 파악한다.
- 데이터 설계, 도메인 설계, 모델링, VO 라고도 한다.
- Crime(데이터 자체), CrimeLab(데이터를 저장소에 저장하고, 읽어오는 일) 두 가지라고 보면 된다.

- V : 화면설계와 화면에 뿌려주는 역할만 한다. 왜냐하면 P에서 데이터를 쪼개어 값을 넣어주기 때문이다.
- P : 시작, 끝, 추가, 삭제, 업데이트, 데이터 쪼개기, 합치기 등의 일을 하는 곳이다. 한마디로 데이터를 다루는 모든 로직이 여기 있다고 보면 된다.
- M : 데이터, 데이터 저장, 불러오기 두 가지.

- mvc와의 비교 : m과 v가 종속적인가 독립적인가의 차이이다. 데이터를 뷰에 통째로 던져줘서 뷰가 스스로 처리해서 출력하는가, 데이터를 P에 던져주면 P가 잘 쪼개서 값을 뷰에 넣어주면 뷰가 보여주기만 하는가.
- 또한 MVC는 수평구조로 자기가 맞은 업무의 MVC를 모두 하는 우리나라의 직무 구조이라면, 외국의 경우는 M은 M, V는 V, P는 P 하는 사람이 자기 일만 한다. 재사용성이 높아지고, 코드 간의 독립성이 좋아진다.


## 2. 뷰 설계(어떤 화면이 필요한가)

- 입력
- 목록
- 출력
- 이렇게 각각 어떤 화면이 필요한지 구성하고, 어떤 값을 출력해 줘야 하는지 설계
- 모든 데이터는 P로 가야 한다. 뷰는 오직 뿌려주는 역할만 할 뿐.


## 3. 프레젠터(메소드를 통해 데이터 처리)

- 1. 메인 함수에서 전체 프로그램을 시작할 메소드를 만든다.
- 2. 메인 함수에 프로세스를 시작할 함수를 등록해 준다.

- 시작, 데이터 추가, 삭제, 업데이트 등 데이터에 관한 처리는 프로젠터에서 한다.
- 뷰에 보내줄 값을 쪼개는 것 또한 프레젠터가 한다.
- 값을 저장하고 불러오는 것은 모델에서 한다. 헷갈리지 말자!


## 4. 인터페이스를 통한 설계

- model : 데이터만 정의된 클래스는 포조라고 해서 메소드가 정의된 곳이 아니기 때문에 추상 클래스나 인터페이스는 아니다. 데이터를 저장하고 불러 오는 메소드는 인터페이스로 설계한다.

- view : 속성값이 없고, 뿌려주는 메소드만 있으니 인터페이스로 설계

- presenter : 원래는 인터페이스로 설계한다. 다만 속성값이 있다면 추상클래스로 설계한다.


## 5. 좋은 설계의 이해

- 파라미터에 객체를 받거나 new로 다른 객체를 갖다 쓰거나, A->B처럼 A가 실행되어야 B가 실행되는 경우 종속성이 생긴다. 좋은 설계는 보다 독립성 있는 설계를 하는 것이다.

- new, 상속을 줄이고 독립된 객체와 함수를 사용할 수 있도록 하자.

- MVP, 함수 쪼개기
